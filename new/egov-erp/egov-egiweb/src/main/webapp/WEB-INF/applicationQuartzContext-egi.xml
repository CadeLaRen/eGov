<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" 
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">
	
	<bean name="egiSchedular" id="egiSchedular" parent="egovSchedular">
		<property name="schedulerName" value="egi-scheduler"/>
		<property name="triggers">
	    	<list>
				<ref bean="sample" />
	    	</list>
		</property>	
		<property name="applicationContextSchedulerContextKey" value="applicationQuartzContext-egi" />   
   </bean>
   
   <bean name="SampleScheduler" id="SampleScheduler" class="org.springframework.scheduling.quartz.JobDetailFactoryBean">
   		<property name="group" value="egi_JOB_GROUP"/>
   		<property name="name" value="egi Data Assigner Scheduler"/>
   		<property name="durability" value="true"/>
   		<property name="jobClass" value="org.egov.egi.jobs.SampleJob"/>
   		<property name="requestsRecovery" value="true"/>
		<property name="jobDataAsMap">
            <map>
                <entry key="jobBeanName" value="job"/>
				<entry key="userName" value="egovernments"/>
				<entry key="transactional"  value="true" />
				<entry key="moduleName" value="egi"/>
            </map>
        </property>           	
	</bean>
	
	<bean id="job" class="org.egov.egi.jobs.SampleJob" lazy-init="true" scope="prototype"/>
   
	<bean id="sample" class="org.springframework.scheduling.quartz.CronTriggerFactoryBean">
		<property name="jobDetail" ref="SampleScheduler" />
        <property name="group" value="egi_TRIGGER_GROUP"/>
		<property name="name" value="egi Data Assigner Job Trigger"/>
		<!-- Every Day 01.00 AM -->
		<!-- Test cron(5 minute) 0 0/5 * * * ? -->
		<property name="cronExpression" value="0 0/5 * * * ?" />
	</bean> 
</beans>