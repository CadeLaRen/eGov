<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="PT_collection_receipt" language="groovy" pageWidth="612" pageHeight="792" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="d31f0fd4-d49f-4b27-8a8e-9f8eedf12355">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="192"/>
	<import value="org.egov.infra.reporting.util.ReportUtil"/>
	<field name="receiptDate" class="java.lang.String"/>
	<field name="receiptNum" class="java.lang.String"/>
	<field name="payeeName" class="java.lang.String"/>
	<field name="payeeAddress" class="java.lang.String"/>
	<field name="glCode" class="java.lang.String"/>
	<field name="crAmount" class="java.lang.String"/>
	<field name="isRevenueAccount" class="java.lang.String"/>
	<field name="field1" class="java.lang.String"/>
	<field name="drAmount" class="java.lang.String"/>
	<variable name="generalTaxArrear" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA["4311001".equals($F{glCode}) ? $F{crAmount} : BigDecimal.ZERO]]></variableExpression>
		<initialValueExpression><![CDATA[BigDecimal.ZERO]]></initialValueExpression>
	</variable>
	<variable name="totalAmountCollected" class="java.lang.String">
		<variableExpression><![CDATA[(!$F{isRevenueAccount} && $F{crAmount}>BigDecimal.ZERO)? $F{crAmount} : ("4314209".equals($F{glCode}) ? -$F{drAmount} : BigDecimal.ZERO)]]></variableExpression>
		<initialValueExpression><![CDATA[BigDecimal.ZERO]]></initialValueExpression>
	</variable>
	<variable name="total" class="java.lang.String"/>
	<variable name="balance" class="java.lang.String">
		<variableExpression><![CDATA[$V{total}.subtract($V{totalAmountCollected})]]></variableExpression>
		<initialValueExpression><![CDATA[BigDecimal.ZERO]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="572" height="20" uuid="02fbb161-ec30-4242-a0f0-0fd337c59dbf"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[RECEIPT OF PROPERTY TAX]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="20" width="572" height="20" uuid="2bd435ef-27c1-4a29-804b-6cd4dec7a7f3"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="false"/>
				</textElement>
				<text><![CDATA[MUNICIPAL ADMINISTRATION DEPARTMENT]]></text>
			</staticText>
			<textField>
				<reportElement x="0" y="46" width="572" height="20" uuid="9eee127c-08d2-465f-89ad-8a8373b9e0df"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[ReportUtil.getCityName() + " MUNICIPALITY"]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<detail>
		<band height="408" splitType="Stretch">
			<staticText>
				<reportElement x="10" y="15" width="61" height="20" uuid="f568224b-41da-46b2-8030-60afd86614a9"/>
				<text><![CDATA[Date:]]></text>
			</staticText>
			<staticText>
				<reportElement x="10" y="35" width="61" height="20" uuid="8f6ff306-9655-4b61-b68d-35c4a103ddd2"/>
				<text><![CDATA[House No:]]></text>
			</staticText>
			<textField>
				<reportElement x="107" y="15" width="121" height="20" uuid="5fb47edd-35b3-4c87-9101-60feb8aba803"/>
				<textFieldExpression><![CDATA[$F{receiptDate}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="107" y="35" width="121" height="20" uuid="86c1b4a2-d4a5-4e62-9522-2118200e921d"/>
				<textFieldExpression><![CDATA[$F{payeeAddress}.substring(0, $F{payeeAddress}.indexOf(','))]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="311" y="35" width="116" height="20" uuid="40c7f9dd-6d01-4f6d-ade4-bea233318fe4"/>
				<text><![CDATA[Name of the Remitter:]]></text>
			</staticText>
			<textField>
				<reportElement x="427" y="15" width="140" height="20" uuid="235428d9-90da-48fa-bdd6-9fb5fa03fcd1"/>
				<textFieldExpression><![CDATA[$F{receiptNum}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="427" y="35" width="140" height="20" uuid="c38b4aae-c795-4c87-8ca7-de78c1b51d90"/>
				<textFieldExpression><![CDATA[$F{payeeName}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="311" y="15" width="61" height="20" uuid="874d1620-dc71-423f-9270-4b35074a17ce"/>
				<text><![CDATA[Receipt No:]]></text>
			</staticText>
			<textField>
				<reportElement x="107" y="55" width="121" height="20" uuid="33a0dcf1-7b31-4a03-9831-c85b74100f20"/>
				<textFieldExpression><![CDATA[$F{receiptDate}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="107" y="75" width="121" height="20" uuid="2987a0c1-4380-4ae3-b53d-c7e06dfddb6b"/>
			</textField>
			<staticText>
				<reportElement x="10" y="75" width="61" height="20" uuid="2481962c-f641-4aae-8aa6-93045e913891"/>
				<text><![CDATA[Demand:]]></text>
			</staticText>
			<staticText>
				<reportElement x="10" y="55" width="91" height="20" uuid="b6544455-b0a9-4fb7-9854-afdc35f2978f"/>
				<text><![CDATA[Name of Locality :]]></text>
			</staticText>
			<staticText>
				<reportElement x="10" y="106" width="218" height="20" uuid="0d19a3da-e289-40b8-b102-c23a23f876a3"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Details of Tax Payment]]></text>
			</staticText>
			<staticText>
				<reportElement x="10" y="128" width="218" height="20" uuid="8abd9d51-be5f-47b5-9d06-9b8da1f1fc43"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Property Tax]]></text>
			</staticText>
			<staticText>
				<reportElement x="10" y="220" width="123" height="20" uuid="bf41dde9-0646-407f-aa1f-3d4d3d9cf2f5"/>
				<text><![CDATA[Total:]]></text>
			</staticText>
			<staticText>
				<reportElement x="10" y="197" width="123" height="20" uuid="2c514b3d-9021-4fcb-a141-13d3ba06dadc"/>
				<text><![CDATA[Penalty on PT:]]></text>
			</staticText>
			<staticText>
				<reportElement x="10" y="151" width="123" height="20" uuid="05706c58-63b6-4805-8bd7-0125f0a4f828"/>
				<text><![CDATA[Arrears on PT:]]></text>
			</staticText>
			<staticText>
				<reportElement x="10" y="174" width="123" height="20" uuid="2c0a3e63-2448-49b8-8b26-b0ecdbe04dd6"/>
				<text><![CDATA[Current WT:]]></text>
			</staticText>
			<staticText>
				<reportElement x="10" y="242" width="123" height="20" uuid="09d919c1-3f37-4cda-8735-98cdd4e306e8"/>
				<text><![CDATA[Total Amount collected:]]></text>
			</staticText>
			<staticText>
				<reportElement x="10" y="288" width="123" height="20" uuid="ccbf7978-b187-48ff-83b1-9381b0710cec"/>
				<text><![CDATA[Period:]]></text>
			</staticText>
			<staticText>
				<reportElement x="10" y="265" width="123" height="20" uuid="f1962c65-a0e6-40a9-acc2-e736eae03750"/>
				<text><![CDATA[Balance:]]></text>
			</staticText>
			<staticText>
				<reportElement x="10" y="360" width="109" height="20" uuid="28c0197a-53bd-4734-a7a0-0078ffbe214f"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Commissioner]]></text>
			</staticText>
			<staticText>
				<reportElement x="10" y="337" width="218" height="20" uuid="8207aec6-f723-4aa6-846a-4448f8c2e2e6"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Signature of the Bill Collector]]></text>
			</staticText>
			<staticText>
				<reportElement x="400" y="337" width="157" height="20" uuid="3becefc2-e5ab-41da-aa3c-afa7e24be747"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Signature of the Remitter]]></text>
			</staticText>
			<textField>
				<reportElement x="133" y="151" width="121" height="20" uuid="260baa4b-6276-4fca-945d-ce6b9442a961"/>
				<textFieldExpression><![CDATA[$V{generalTaxArrear}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="133" y="174" width="121" height="20" uuid="b71cce26-1ae0-4372-bce5-cfb46b702213"/>
			</textField>
			<textField>
				<reportElement x="133" y="197" width="121" height="20" uuid="a0db1d00-87b5-4717-9514-886bafd22f78"/>
			</textField>
			<textField>
				<reportElement x="133" y="220" width="121" height="20" uuid="d7034a08-2704-49e0-8e1a-69abcfdb221d"/>
				<textFieldExpression><![CDATA[$V{total}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="133" y="242" width="121" height="20" uuid="a964bd15-8df2-46e7-b807-e069c87bb131"/>
				<textFieldExpression><![CDATA[$V{totalAmountCollected}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="133" y="288" width="121" height="20" uuid="c951447c-0dbe-420f-8eee-25fb1a124979"/>
			</textField>
			<textField>
				<reportElement x="133" y="265" width="121" height="20" uuid="df1cc490-c556-4f2d-b1a5-bd9896c389a4"/>
				<textFieldExpression><![CDATA[$V{balance}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
