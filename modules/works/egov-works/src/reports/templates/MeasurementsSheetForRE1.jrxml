<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="MeasurementsSheetForRE1" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="842" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0">
	<import value="org.egov.infstr.reporting.util.*"/>
	<import value="org.egov.infstr.utils.*"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["/home/malathi/Works-Proj/NMC-WORKS/modules/works/worksweb/src/reports/templates/"]]></defaultValueExpression>
	</parameter>
	<parameter name="revisionEstimateNo" class="java.lang.String"/>
	<field name="measurementSheetList" class="java.util.List"/>
	<field name="schedule" class="org.egov.works.models.masters.ScheduleOfRate"/>
	<field name="nonSor" class="org.egov.works.models.estimate.NonSor"/>
	<field name="quantityString" class="java.lang.String"/>
	<field name="uom" class="org.egov.infstr.commonMasters.EgUom"/>
	<field name="revisionType" class="java.lang.String"/>
	<variable name="remarks" class="java.lang.String">
		<variableExpression><![CDATA[$F{schedule}==null?$F{nonSor}.getDescription():$F{schedule}.getDescription()]]></variableExpression>
	</variable>
	<group name="detailforestimate">
		<groupExpression><![CDATA[$F{measurementSheetList}]]></groupExpression>
		<groupHeader>
			<band/>
		</groupHeader>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="1" splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="55" splitType="Stretch">
			<staticText>
				<reportElement x="2" y="32" width="167" height="20"/>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Revision Estimate No :-]]></text>
			</staticText>
			<textField>
				<reportElement x="169" y="33" width="237" height="20"/>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{revisionEstimateNo}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="22" splitType="Stretch">
			<staticText>
				<reportElement x="702" y="1" width="100" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Unit]]></text>
			</staticText>
			<staticText>
				<reportElement x="346" y="1" width="59" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[No]]></text>
			</staticText>
			<staticText>
				<reportElement x="465" y="1" width="62" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[B]]></text>
			</staticText>
			<staticText>
				<reportElement x="405" y="1" width="59" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[L]]></text>
			</staticText>
			<staticText>
				<reportElement x="1" y="1" width="41" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Sl.No.]]></text>
			</staticText>
			<staticText>
				<reportElement x="528" y="1" width="62" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[D/H]]></text>
			</staticText>
			<staticText>
				<reportElement x="590" y="1" width="112" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Qty.]]></text>
			</staticText>
			<staticText>
				<reportElement x="42" y="1" width="214" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Particulars]]></text>
			</staticText>
			<staticText>
				<reportElement x="256" y="1" width="90" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Revision Type
]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="35" splitType="Prevent">
			<subreport>
				<reportElement x="1" y="1" width="802" height="33"/>
				<subreportParameter name="activityCount">
					<subreportParameterExpression><![CDATA[$V{REPORT_COUNT}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="activityQty">
					<subreportParameterExpression><![CDATA[$F{quantityString}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="activityUom">
					<subreportParameterExpression><![CDATA[$F{uom}.getUom()]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="mSheetListSize">
					<subreportParameterExpression><![CDATA[$F{measurementSheetList}.size()]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="revisionType">
					<subreportParameterExpression><![CDATA[$F{revisionType}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="activityDesc">
					<subreportParameterExpression><![CDATA[$V{remarks}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{measurementSheetList}, false)]]></dataSourceExpression>
				<subreportExpression class="java.io.InputStream"><![CDATA[ReportUtil.getTemplateAsStream("MeasurementSheetForRE2.jasper")]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
