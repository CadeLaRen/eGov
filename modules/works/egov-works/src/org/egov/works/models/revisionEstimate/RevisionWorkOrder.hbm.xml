<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="org.egov.works.models.revisionEstimate">  
	<joined-subclass name="RevisionWorkOrder" table="egw_revision_workOrder"
		extends="org.egov.works.models.workorder.WorkOrder">
		<key column="ID" />
		        
        <property name="creationType" column="CREATION_TYPE" >
            <type name="org.hibernate.type.EnumType">       
				<param name="enumClass">org.egov.works.models.revisionEstimate.RevisionWOCreationType</param>
				<param name="type">12</param>
				<param name="useNamed">true</param>     
			</type>   
		</property>

	</joined-subclass>
	
   <query name="GET_REVISION_WORKORDER"> 
               <![CDATA[
            from RevisionWorkOrder rwo where rwo.parent.id=? and rwo.egwStatus.code='APPROVED'and rwo.creationType='EXTERNAL' order by rwo.id
   ]]>
   </query>
</hibernate-mapping>   