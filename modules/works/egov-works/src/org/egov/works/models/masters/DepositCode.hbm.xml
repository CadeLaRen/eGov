<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
	<class name="org.egov.works.models.masters.DepositCode" table="EGW_DEPOSITCODE">
		<id name="id" type="long">
			<column name="ID" />
			<generator class="sequence"> <param name="sequence">EGW_DEPOSITCODE_SEQ</param></generator>
		</id>
		
		<property name="code" type="string">
            <column name="CODE" length="256" not-null="true" unique="true"/>
        </property>
        
        <property name="description" type="string">
			<column name="DESCRIPTION" length="1024" />
		</property>
	
		<many-to-one name="worksType" class="org.egov.works.models.estimate.WorkType" column="WORKSTYPE_ID" fetch="select" />
	
		 <property name="codeName" type="string">
			<column name="DEPOSIT_WORKNAME" length="256" not-null="true" />
		</property>
		
		<many-to-one name="fund" class="org.egov.commons.Fund" column="FUND_ID" fetch="select" /> 
		<many-to-one name="functionary" class="org.egov.commons.Functionary" column="FUNCTIONARY_ID" fetch="select" />
		<many-to-one name="function" class="org.egov.commons.CFunction" column="FUNCTION_ID" fetch="select" />
		<many-to-one name="scheme" class="org.egov.commons.Scheme" column="SCHEME_ID" fetch="select" />
		<many-to-one name="subScheme" class="org.egov.commons.SubScheme" column="SUBSCHEME_ID"  fetch="select" />
		
		<many-to-one name="department"
			class="org.egov.lib.rjbac.dept.DepartmentImpl"  fetch="select" >
			<column name="DEPARTMENT_ID" />
		</many-to-one>
		
		<many-to-one name="ward"
			class="org.egov.lib.admbndry.BoundaryImpl"  fetch="select" >
			<column name="WARD_ID" />
		</many-to-one>
		
		<many-to-one name="zone"
			class="org.egov.lib.admbndry.BoundaryImpl"  fetch="select" >
			<column name="ZONE_ID"/>
		</many-to-one>
		
		<many-to-one name="financialYear"
			class="org.egov.commons.CFinancialYear"  fetch="select">
			<column name="FINANCIALYEAR_ID" not-null="true"/>
		</many-to-one>
		
		<many-to-one name="fundSource"
			class="org.egov.commons.Fundsource" fetch="select" >
			<column name="FUNDSOURCE_ID" />
		</many-to-one>
				
		<many-to-one name="subTypeOfWork"
			class="org.egov.commons.EgwTypeOfWork" fetch="select">  
			<column name="SUBTYPEOFWORK_ID" />
		</many-to-one>
		
		<many-to-one name="typeOfWork"
			class="org.egov.commons.EgwTypeOfWork" fetch="select">
			<column name="TYPEOFWORK_ID" />
		</many-to-one>
		
		<property name="isActive" type="java.lang.Boolean">
         	<column name="ISACTIVE" precision="1" scale="0" />
		</property>
		
		<many-to-one name="createdBy" class="org.egov.lib.rjbac.user.UserImpl" column="CREATED_BY" fetch="select" />
		<many-to-one name="modifiedBy" class="org.egov.lib.rjbac.user.UserImpl" column="MODIFIED_BY" fetch="select"/>
		<property name="createdDate" column="CREATED_DATE" type="timestamp" />		
		<property name="modifiedDate" column="MODIFIED_DATE" type="timestamp" />	
	</class>
	<query name="EGW_getActiveDepositCodes">select dc from DepositCode dc where dc.isActive = 1</query>
	<query name="EGW_getActiveDepositCodesByCodeOrDescription">select dc from DepositCode dc where dc.isActive = 1 and (upper(dc.code) like ? OR upper(dc.description) like ?)</query></hibernate-mapping>