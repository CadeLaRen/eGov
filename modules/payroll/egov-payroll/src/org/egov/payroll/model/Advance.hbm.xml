<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<!-- Generated Aug 28, 2007 7:45:39 PM by Hibernate Tools 3.2.0.b9 -->
<hibernate-mapping>
    <class name="org.egov.payroll.model.Advance" table="EGPAY_SALADVANCES" >
        <id name="id" type="long">
            <column name="ID" precision="12" scale="0" />
           <generator class="sequence">
	   	  <param name="sequence">EISPAYROLL_SALADVANCES_SEQ</param>
           </generator>
        </id>

     	<many-to-one name="salaryCodes" class="org.egov.payroll.model.SalaryCodes" fetch="select">
	    	<column name="ID_SALCODE" precision="12" scale="0" not-null="true" />
		</many-to-one>
		
		<!--many-to-one name="billRegister" class="org.egov.model.bills.EgBillregister" fetch="select" cascade="all">
	    	<column name="BILLID" precision="12" scale="0"  />
		</many-to-one-->
		
		<many-to-one name="employee" class="org.egov.pims.model.PersonalInformation" fetch="select">
	    	<column name="ID_EMPLOYEE" precision="12" scale="0" not-null="true" />
    	</many-to-one>    
    	
    	<many-to-one name="sanctionedBy" class="org.egov.lib.rjbac.user.UserImpl" fetch="select">
  	 		<column name="SANCTIONED_BY" precision="12" scale="0"  />
		</many-to-one>
	 
        <property name="requestedAmt" type="big_decimal">
            <column name="REQUESTED_AMT" precision="15" not-null="true" />
        </property>
        
        <property name="advanceAmt" type="big_decimal">
            <column name="ADVANCE_AMT" precision="15" not-null="true" />
        </property>
        
        <property name="interestPct" type="big_decimal" >
            <column name="INTEREST_PCT" precision="12" />
        </property>
        
        <property name="interestType">
            <column name="INTEREST_TYPE" />
        </property>
        
        <property name="numOfInst" type="big_decimal">
            <column name="NUM_OF_INST" precision="12" not-null="true" />
        </property>
        
        <property name="interestAmt" type="big_decimal">
            <column name="INTEREST_AMT" precision="15"  />
        </property>
        
        <property name="instAmt" type="big_decimal">
            <column name="INST_AMT" precision="15" not-null="true" />
        </property>
        
        <property name="pendingAmt" type="big_decimal">
            <column name="PENDING_AMT" precision="15" not-null="true" />
        </property>
        
        <property name="sanctionNum" type="string">
            <column name="SANCTION_NUM" length="32" />
        </property>
        
        <property name="sanctionedDate" type="date">
            <column name="SANCTIONED_DATE" length="7"  />
        </property>

        <many-to-one name="createdBy" class="org.egov.lib.rjbac.user.UserImpl" column="CREATEDBY"  not-null="true" fetch="select" />
		
		<property name="createdDate" type="date">
            <column name="CREATEDDATE" not-null="true" />
        </property>
		
		<many-to-one name="modifiedBy" class="org.egov.lib.rjbac.user.UserImpl" column="LASTMODIFIEDBY" not-null="true" fetch="select"/>
        
        <property name="modifiedDate" type="java.util.Date">
            <column name="LASTMODIFIEDDATE" not-null="true" />
    	</property>   
    	
        <property name="paymentType" >
            <column name="PAYMENT_TYPE" />
        </property> 
        <property name="advanceType">
        	<column name="ADVANCE_TYPE" />
        </property>	
              
       	<many-to-one name="status" class="org.egov.commons.EgwStatus" fetch="select">
	   		<column name="STATUS" precision="12" scale="0" />
        </many-to-one>
        
        <many-to-one name="state" class="org.egov.infstr.models.State" cascade="all">
            <column name="STATE_ID"/>
        </many-to-one>
        
        <set name="deductionses" inverse="true">
            <key>
                <column name="ID_SAL_ADVANCE" precision="12" scale="0" />
            </key>
            <one-to-many class="org.egov.payroll.model.Deductions" />
        </set>
        
        <set name="advanceSchedules" inverse="true" cascade="all-delete-orphan" order-by="INSTALLMENT_NO">
            <key>
                <column name="ID_SALADVANCE" precision="12" scale="0" />
            </key>
            <one-to-many class="org.egov.payroll.model.AdvanceSchedule" />
        </set>
        
        <!--many-to-one name="voucherheader" class="org.egov.commons.CVoucherHeader" fetch="select">
            <column name="VOUCHER_HEADER_ID" precision="22" scale="0" />
        </many-to-one-->
        
        <many-to-one name="bankAccount" class="org.egov.commons.Bankaccount">
        	<column name="BANKACCOUNT_ID" />
        </many-to-one>
        
        <property name="maintainSchedule" type="string">
            <column name="maintain_schedule" />
        </property> 
        
        <one-to-one name="salaryARF"  class="org.egov.payroll.model.SalaryARF" property-ref="advance" 	cascade="all"  	/> 
			
		<property name="isLegacyAdvance" type="string">
            <column name="IS_LEGACY_ADVANCE" />
        </property>
        
        <property name="previousPendingAmt" type="big_decimal">
            <column name="PREVIOUS_PENDING_AMT" precision="15"  />
        </property>
       
    </class>
</hibernate-mapping>