<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<!-- Generated Aug 28, 2007 7:45:39 PM by Hibernate Tools 3.2.0.b9 -->
<hibernate-mapping>
    <class name="org.egov.payroll.model.PayScaleHeader" table="EGPAY_PAYSCALE_HEADER" >
        <id name="id" >
            <column name="ID" precision="12" scale="0" />
            <generator class="sequence">
	    	  <param name="sequence">SEQ_PAYHEADER</param>
        	</generator>
        </id>
        <property name="name" type="string">
            <column name="NAME" length="512" />
        </property>
        <property name="amountFrom" type="big_decimal">
            <column name="AMOUNTFROM" precision="12" not-null="true" />
        </property>
        <property name="amountTo" type="big_decimal">
            <column name="AMOUNTTO" precision="12" not-null="true" />
        </property>         
       <property name="effectiveFrom" type="date">
            <column name="EFFECTIVEFROM" length="7" not-null="true" />
        </property>
        <!--  <property name="payCommision" type="string">
            <column name="PAYCOMMISION" length="512" />
        </property>	-->
         <property name="type" type="string">
            <column name="TYPE" length="512" />
        </property>
        
		<many-to-one name="ruleScript" class="org.egov.infstr.workflow.Action" lazy="false" fetch="select">
			<column name="ID_WF_ACTION" precision="19" scale="0" />
		</many-to-one>
		
      	<set name="payscaleDetailses" inverse="true" cascade="all">
            <key>
                <column name="ID_PAYHEADER" precision="12" scale="0" not-null="true" />
            </key>
            <one-to-many class="org.egov.payroll.model.PayScaleDetails" />
        </set>
        <set name="payscaleEmployees" inverse="true" cascade="all">
            <key>
                <column name="ID_PAYHEDER" precision="12" scale="0" not-null="true" />
            </key>
            <one-to-many class="org.egov.payroll.model.PayStructure" />
        </set>
        <set name="incrSlabs" inverse="true" cascade="all">
            <key>
                <column name="ID_PAYHEADER" precision="12" scale="0" not-null="true" />
            </key>
            <one-to-many class="org.egov.payroll.model.IncrementSlabsForPayScale" />
            <filter name="payScaleslIncFilter" condition=":basicAmount between incslabfrmamt and incslabtoamt "/>            
        </set>
         
		<many-to-one name="payCommision" class="org.egov.pims.model.PayFixedInMaster" fetch="select">
			<column name="PAY_FIXED_ID" precision="32" scale="0" />
		</many-to-one>
         
    </class>
    
    <filter-def name="payScaleslIncFilter">
	      <filter-param name="basicAmount" type="long"/>
	  </filter-def>
    
  </hibernate-mapping>
