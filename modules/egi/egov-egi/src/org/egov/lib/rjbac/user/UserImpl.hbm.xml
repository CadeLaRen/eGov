<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
	<class name="org.egov.lib.rjbac.user.UserImpl" table="EG_USER">
		<id name="id" column="ID_USER" type="integer" unsaved-value="null">
			<generator class="native">
				<param name="sequence">SEQ_EG_USER</param>
			</generator>
		</id>
		<timestamp 	column="updatetime"	name="updateTime" access="property" unsaved-value="null" />
		<property name="title" column="TITLE" type="string"/>
		<property name="salutation" column="SALUTATION" type="string"/>
		<property name="firstName" column="FIRST_NAME" type="string"/>
		<property name="lastName" column="LAST_NAME" type="string"/>
		<property name="isActive" column="ISACTIVE" type="integer"/>
		<property name="middleName" column="MIDDLE_NAME" type="string"/>
		<property name="userName" column="USER_NAME" type="string"/>
		<property name="pwd" column="PWD" type="string"/>
		<property name="pwdReminder" column="PWD_REMINDER" type="string"/>		
		<property name="updateUserId" column="UPDATEUSERID" type="integer"/>
		<property name="extraField1" column="EXTRAFIELD1" type="string"/>
		<property name="extraField2" column="EXTRAFIELD2" type="string"/>
		<property name="extraField3" column="EXTRAFIELD3" type="string"/>
		<property name="extraField4" column="EXTRAFIELD4" type="string"/>
		<property name="isSuspended" column="IS_SUSPENDED" type="char"/>
		<property name="topBoundaryID" column="ID_TOP_BNDRY" type="integer"/>
		<property name="fromDate" column="FROMDATE" type="date"/>
		<property name="toDate" column="TODATE" type="date"/>
		<property name="pwdModifiedDate" column="PWD_UPDATED_DATE" type="date"/>
		<property name="dob" column="DOB" type="date"/>
		<many-to-one name="userSignature" class="org.egov.lib.rjbac.user.UserSignature" column="USER_SIGN" cascade="all" unique="true" />
		<many-to-one name="department" class="org.egov.lib.rjbac.dept.DepartmentImpl" column="ID_DEPARTMENT"/>
		<!-- Many Users can report to the same User. Implements the reporting heirarchy-->
		<many-to-one name="parent" class="org.egov.lib.rjbac.user.UserImpl" column="REPORTSTO"/>
		<set name="reportees" table="EG_USER" inverse="true">
			<key column="REPORTSTO"/>
			<one-to-many class="org.egov.lib.rjbac.user.UserImpl"/>							
		</set> 
		<set name="userRoles" table="EG_USERROLE" inverse="true" access="field" cascade="all-delete-orphan">
  	 		<key>
				<column name="ID_USER" />
    		</key>
    		<one-to-many class="org.egov.lib.rjbac.user.UserRole" />
       	</set>	
       	<set name="allJurisdictions" table="EG_USER_JURLEVEL" inverse="true" access="field" cascade="all-delete-orphan">
			<key column="ID_USER"/>
			<one-to-many class="org.egov.lib.rjbac.jurisdiction.Jurisdiction" />
		</set> 
	</class>
</hibernate-mapping>
