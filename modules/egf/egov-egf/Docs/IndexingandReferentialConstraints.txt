Scripts are executed in VMCPROD1_1_9TEST
--------------------------------------------

CREATE INDEX INDX_GLD_GLID ON GENERALLEDGERDETAIL
(GENERALLEDGERID)
NOPARALLEL;

CREATE INDEX INDX_COAD_COAID ON CHARTOFACCOUNTDETAIL
(GLCODEID)
NOPARALLEL;

CREATE INDEX INDX_BR_VHID ON BANKRECONCILIATION
(VOUCHERHEADERID)
NOPARALLEL;

CREATE INDEX INDX_CHQID_VHID ON CHEQUEDETAIL
(VOUCHERHEADERID)
NOPARALLEL;

CREATE INDEX INDX_ACDK_ACDTID ON 
  ACCOUNTDETAILKEY(DETAILTYPEID) 
  TABLESPACE USERS PCTFREE 10  STORAGE(INITIAL 65536 ) ;

CREATE INDEX INDX_AEM_ACDTID ON 
  ACCOUNTENTITYMASTER(DETAILTYPEID) 
  TABLESPACE USERS PCTFREE 10  STORAGE(INITIAL 65536 ) ;
  
  CREATE INDEX INDX_BANKACCOUNT_COAID
 ON BANKACCOUNT(GLCODEID);
 
 CREATE INDEX INDX_BANKACCOUNT_FUNDID
 ON BANKACCOUNT(FUNDID);
 
 CREATE INDEX INDX_BE_VHID
 ON BANKENTRIES(VOUCHERHEADERID);
 
  CREATE INDEX INDX_BE_COAID
 ON BANKENTRIES(GLCODEID);
 
 CREATE INDEX INDX_BE_BANKACCOUNTID
 ON BANKENTRIES(BANKACCOUNTID);
 
  
 CREATE INDEX INDX_BR_BANKACCOUNTID
 ON BANKRECONCILIATION(BANKACCOUNTID);
 
 CREATE INDEX INDX_COAD_ACDTID
 ON CHARTOFACCOUNTDETAIL(DETAILTYPEID);
 
 CREATE INDEX INDX_CD_BANKID
 ON CHEQUEDETAIL(BANKID);
 
 CREATE INDEX INDX_CD_BRANCHID
 ON CHEQUEDETAIL(BRANCHID);
 
 CREATE INDEX INDX_CD_ACCOUNTID
 ON CHEQUEDETAIL(ACCOUNTNUMBERID);
 
 CREATE INDEX INDX_CBD_VHID
 ON CONTRACTORBILLDETAIL(VOUCHERHEADERID);
 
 CREATE INDEX INDX_CBD_RELATIONID
 ON CONTRACTORBILLDETAIL(CONTRACTORID);
 
 CREATE INDEX INDX_CBD_WDID
 ON CONTRACTORBILLDETAIL(WORKSDETAILID);
 
  CREATE INDEX INDX_CBD_USERID
 ON CONTRACTORBILLDETAIL(GENERATEDBY);
 
 CREATE INDEX INDX_CBD_STATUSID
 ON CONTRACTORBILLDETAIL(STATUSID);
 
  
 CREATE INDEX INDX_CJV_FBANKID
 ON CONTRAJOURNALVOUCHER(FROMBANKID);
 
 CREATE INDEX INDX_CJV_TOBANKID
 ON CONTRAJOURNALVOUCHER(TOBANKID);
 
  CREATE INDEX INDX_CJV_FBRANCHID
 ON CONTRAJOURNALVOUCHER(FROMBANKBRANCHID);
 
  CREATE INDEX INDX_CJV_TOBRANCHID
  ON CONTRAJOURNALVOUCHER(TOBANKBRANCHID);

CREATE INDEX INDX_CJV_FFUNDID
 ON CONTRAJOURNALVOUCHER(FROMFUNDID);


CREATE INDEX INDX_CJV_TOFUNDID
 ON CONTRAJOURNALVOUCHER(TOFUNDID);

CREATE INDEX INDX_CJV_FACCOUNTID
 ON CONTRAJOURNALVOUCHER(FROMBANKACCOUNTID);

CREATE INDEX INDX_CJV_TOACCOUNTID
 ON CONTRAJOURNALVOUCHER(TOBANKACCOUNTID);


ALTER TABLE EGCL_TRANSACTION_DETAILS
 ADD CONSTRAINT FK_ETD_COAIDPK
 FOREIGN KEY (ID_ACCOUNT_HEAD)
 REFERENCES CHARTOFACCOUNTS (ID);
 
 CREATE INDEX INDX_BUD_STATUSID
 ON EGF_BUDGET(STATUSID);
 
 CREATE INDEX INDX_EBD_BUDGETID
 ON EGF_BUDGETDETAIL(BUDGETID);
 
  CREATE INDEX INDX_EBD_BUDGROUPID
 ON EGF_BUDGETDETAIL(BUDGETGROUPID);
 
 CREATE INDEX INDX_EBD_FUNCID
 ON EGF_BUDGETDETAIL(FUNCTIONID);
 
 CREATE INDEX INDX_EBD_STATUSID
 ON EGF_BUDGETDETAIL(STATUSID);
 
  
 ALTER TABLE EGF_RECEIPT_MIS
  ADD CONSTRAINT ERM_ID_PK
 PRIMARY KEY (ID);
 
 ALTER TABLE EGF_RECEIPT_MIS
  ADD CONSTRAINT FK_ERM_FIELDIDPK
  FOREIGN KEY (FIELDID)
 REFERENCES EG_BOUNDARY (ID_BNDRY);
 
 
  ALTER TABLE EGF_RECEIPT_MIS
  ADD CONSTRAINT FK_ERM_FUNDIDPK
  FOREIGN KEY (FUNDID)
 REFERENCES FUND (ID);
 
 ALTER TABLE EGF_RECEIPT_MIS
  ADD CONSTRAINT FK_ERM_SEGIDPK
  FOREIGN KEY (SEGMENTID)
 REFERENCES FUND (ID);
 
 ALTER TABLE EGF_RECEIPT_MIS
  ADD CONSTRAINT FK_ERM_SUBSEGIDPK
  FOREIGN KEY (SUB_SEGMENTID)
 REFERENCES FUND (ID);
 
 ALTER TABLE EGF_RECEIPT_MIS
  ADD CONSTRAINT FK_ERM_FUNCTIONIDPK
  FOREIGN KEY (FUNCTIONID)
 REFERENCES FUNCTION (ID);
 
  ALTER TABLE EGF_RECEIPT_MIS
  ADD CONSTRAINT FK_ERM_VHIDPK
  FOREIGN KEY (VOUCHERHEADERID)
 REFERENCES VOUCHERHEADER (ID);
 
 CREATE INDEX INDX_ERM_VHID
 ON EGF_RECEIPT_MIS(VOUCHERHEADERID);
 
 CREATE INDEX INDX_ERM_FIELDID
 ON EGF_RECEIPT_MIS(FIELDID);
 
 CREATE INDEX INDX_ERM_FUNCTIONID
 ON EGF_RECEIPT_MIS(FUNCTIONID);
 
 CREATE INDEX INDX_ERM_FUNDID
  ON EGF_RECEIPT_MIS(FUNDID);

CREATE INDEX INDX_ERM_SEGID
 ON EGF_RECEIPT_MIS(SEGMENTID);
 
  CREATE INDEX INDX_ERM_SUBSEGID
  ON EGF_RECEIPT_MIS(SUB_SEGMENTID);


ALTER TABLE EGW_BILL_DEDUCTIONS
 ADD CONSTRAINT FK_EBD_COAIDPK
 FOREIGN KEY (GLCODEID)
 REFERENCES CHARTOFACCOUNTS (ID);
 
 
  CREATE INDEX INDX_EBD_COAID
  ON EGW_BILL_DEDUCTIONS(GLCODEID);

CREATE INDEX INDX_EBD_CBDID
 ON EGW_BILL_DEDUCTIONS(CONTRACTORBILLDETAILID);
 
  CREATE INDEX INDX_EBD_TDSID
 ON EGW_BILL_DEDUCTIONS(TDSID);
 
 
 CREATE INDEX INDX_EMD_WACTID
 ON EGW_MBDETAILS(WORKSACTIVITYID);
 
 CREATE INDEX INDX_EMD_MBHID
 ON EGW_MBDETAILS(MBHEADERID);
 
 CREATE INDEX INDX_EMH_VHID
 ON EGW_MBHEADER(VOUCHERHEADERID);
 
 CREATE INDEX INDX_EMH_CHKBY
 ON EGW_MBHEADER(CHECKEDBY);
 
 CREATE INDEX INDX_EMH_CRTDBY
 ON EGW_MBHEADER(CREATEDBY)
 
 CREATE INDEX INDX_EMH_LASTMODID
 ON EGW_MBHEADER(LASTMODIFIEDBY);
 
 CREATE INDEX INDX_EMH_WKDID
 ON EGW_MBHEADER(WORKSDETAILID);
 
  CREATE INDEX INDX_EMH_STATUSID
 ON EGW_MBHEADER(STATUSID);
 
  
 CREATE INDEX INDX_ESC_FSTATUSID
 ON EGW_SATUSCHANGE(FROMSTATUS);
 
 CREATE INDEX INDX_ESC_TOSTATUSID
 ON EGW_SATUSCHANGE(TOSTATUS);
 
 CREATE INDEX INDX_EWA_WDID
 ON EGW_WORKS_ACTIVITY(WORKSDETAILID);
 
 CREATE INDEX INDX_EWA_UOMID
 ON EGW_WORKS_ACTIVITY(UOM);
 
 CREATE INDEX INDX_EWD_WDID
 ON EGW_WORKS_DEDUCTIONS(WORKSDETAILID);
 
 
 CREATE INDEX INDX_EWD_COAID
 ON EGW_WORKS_DEDUCTIONS(GLCODEID);
 
  CREATE INDEX INDX_EWM_FIELDID
 ON EGW_WORKS_MIS(FIELDID);
 
 
 CREATE INDEX INDX_EWM_WARDID
  ON EGW_WORKS_MIS(WARDID);

CREATE INDEX INDX_EWM_FUNDID
 ON EGW_WORKS_MIS(FUNDID);

CREATE INDEX INDX_EWM_WDID
 ON EGW_WORKS_MIS(WORKSDETAILID);

 CREATE INDEX INDX_EWM_TPID
 ON EGW_WORKS_MIS(THIRDPARY);
 
 CREATE INDEX INDX_EWM_ESTMTDBY
  ON EGW_WORKS_MIS(ESIMATEPREPAREDBY);


 CREATE INDEX INDX_EAD_ACTIONBYID
 ON EG_ACTIONDETAILS(ACTIONDONEBY);
 
 CREATE INDEX INDX_EBD_BILLID
 ON EG_BILLDETAILS(BILLID);
 
 CREATE INDEX INDX_EBD_FUNCTIONID
  ON EG_BILLDETAILS(FUNCTIONID);

CREATE INDEX INDX_EBD_GLCODEID
 ON EG_BILLDETAILS(GLCODEID);
 
 CREATE INDEX INDX_EBPD_BDID
 ON EG_BILLPAYEEDETAILS(BILLDETAILID);
 
 CREATE INDEX INDX_EBPD_ADTID
 ON EG_BILLPAYEEDETAILS(ACCOUNTDETAILTYPEID);
 
 
  CREATE INDEX INDX_EBRM_BILLID
 ON EG_BILLREGISTERMIS(BILLID);
 
 
 CREATE INDEX INDX_EBRM_FUNDID
 ON EG_BILLREGISTERMIS(FUNDID);
 
 CREATE INDEX INDX_EBRM_SEGMENTID
 ON EG_BILLREGISTERMIS(SEGMENTID);
 
 CREATE INDEX INDX_EBRM_SUBSEGID
 ON EG_BILLREGISTERMIS(SUBSEGMENTID);
 
 CREATE INDEX INDX_EBRM_FIELDID
  ON EG_BILLREGISTERMIS(FIELDID);

CREATE INDEX INDX_EBRM_SUBFIELDID
 ON EG_BILLREGISTERMIS(SUBFIELDID);
 
 CREATE INDEX INDX_EBRM_FUNATIONARYID
 ON EG_BILLREGISTERMIS(FUNCTIONARYID);
 
 CREATE INDEX INDX_EB_BNDRYTYPEID
 ON EG_BOUNDARY(ID_BNDRY_TYPE);
 
  
 ALTER TABLE EG_EMPLOYEE
  ADD CONSTRAINT FK_EE_DEPTID
  FOREIGN KEY (ID_DEPT)
 REFERENCES EG_DEPARTMENT (ID_DEPT);
 
  ALTER TABLE EG_EMPLOYEE
  ADD CONSTRAINT FK_EE_USERIDPK
  FOREIGN KEY (ID_USER)
 REFERENCES EG_USER (ID_USER);
 
  CREATE INDEX INDX_ELL_LOCATIONID
 ON EG_LOGIN_LOG(LOCATIONID);
 
 CREATE INDEX INDX_ELL_USERID
 ON EG_LOGIN_LOG(USERID);
 
 CREATE INDEX INDX_EN_FPID
  ON EG_NUMBERS(FISCIALPERIODID);


CREATE INDEX INDX_ERAM_ROLEID
 ON EG_ROLEACTION_MAP(ROLEID);
 
 CREATE INDEX INDX_ERAM_ACTIONID
 ON EG_ROLEACTION_MAP(ACTIONID);
 
 CREATE INDEX INDX_ESC_VHID
 ON EG_SURRENDERED_CHEQUES(VHID);
 
 CREATE INDEX INDX_ESC_ACCOUNTID
 ON EG_SURRENDERED_CHEQUES(BANKACCOUNTID);
 
 CREATE INDEX INDX_EUOM_CATEGORYID
 ON EG_UOM(UOMCATEGORYID);
 
 CREATE INDEX INDX_EUCM_USERID
 ON EG_USERCOUNTER_MAP(USERID);
 
 CREATE INDEX INDX_EUCM_COUNTERID
  ON EG_USERCOUNTER_MAP(COUNTERID);

CREATE INDEX INDX_EUR_ROLEID
 ON EG_USERROLE(ID_ROLE);
 
 CREATE INDEX INDX_EUR_USERID
 ON EG_USERROLE(ID_USER);
 
 
 CREATE INDEX INDX_EUJL_USERID
 ON EG_USER_JURLEVEL(ID_USER);
 
 
  CREATE INDEX INDX_EUJL_BNDRYTYPEID
 ON EG_USER_JURLEVEL(ID_BNDRY_TYPE);
 
 CREATE INDEX INDX_EUJV_BNDRYID
 ON EG_USER_JURVALUES(ID_BNDRY);
 
 CREATE INDEX INDX_EUJV_JURLEVELID
  ON EG_USER_JURVALUES(ID_USER_JURLEVEL);

 CREATE INDEX INDX_FP_FINYEARID
 ON FISCALPERIOD(FINANCIALYEARID);

CREATE INDEX INDX_GLID_VHID ON GENERALLEDGER
(VOUCHERHEADERID);

CREATE INDEX INDX_GL_FUNCTIONID
 ON GENERALLEDGER(FUNCTIONID);

CREATE INDEX INDX_GLD_ACDTYPEID
 ON GENERALLEDGERDETAIL(DETAILTYPEID);
 
 CREATE INDEX INDX_MBD_VHID
 ON MISCBILLDETAIL(BILLVHID);
 
 CREATE INDEX INDX_OBD_BILLID
 ON OTHERBILLDETAIL(BILLID);
 
 CREATE INDEX INDX_OBD_BILLVHID
 ON OTHERBILLDETAIL(VOUCHERHEADERID);
 
  CREATE INDEX INDX_OBD_PAYVHID
 ON OTHERBILLDETAIL(PAYVHID);
 
 CREATE INDEX INDX_PH_VHID
 ON PAYMENTHEADER(VOUCHERHEADERID);
 
 CREATE INDEX INDX_PH_BANKID
  ON PAYMENTHEADER(BANKID);

CREATE INDEX INDX_PH_BRANCHID
 ON PAYMENTHEADER(BANKBRANCHID);
 
 CREATE INDEX INDX_PH_ACCOUNTID
 ON PAYMENTHEADER(BANKACCOUNTNUMBERID);
 
 CREATE INDEX INDX_PH_CHEQUEID
  ON PAYMENTHEADER(CHEQUEID);

 CREATE INDEX INDX_PH_MBDID
 ON PAYMENTHEADER(MISCBILLDETAILID);
 
 
 
  CREATE INDEX INDX_RH_VHID
  ON RECEIPTHEADER(VOUCHERHEADERID);

CREATE INDEX INDX_RH_BANKID
 ON RECEIPTHEADER(BANKID);

CREATE INDEX INDX_RH_BRANCHID
 ON RECEIPTHEADER(BANKBRANCHID);
 
 CREATE INDEX INDX_RH_ACCOUNTID
  ON RECEIPTHEADER(BANKACCOUNTNUMBERID);

CREATE INDEX INDX_R_TYPEID
 ON RELATION(RELATIONTYPEID);
 
 CREATE INDEX INDX_SBD_VHID
 ON SALARYBILLDETAIL(VOUCHERHEADERID);
 
 CREATE INDEX INDX_SBD_FINYEARID
 ON SALARYBILLDETAIL(FINANCIALYEARID);
 
 CREATE INDEX INDX_FUNDID
 ON SCHEME(FUNDID);
 
 CREATE INDEX INDX_SECTORID
 ON SCHEME(SECTORID);
 
 CREATE INDEX INDX_SCHEMEID
 ON SUB_SCHEME(SCHEMEID);
 
  CREATE INDEX INDX_TS_COAID
  ON TRANSACTIONSUMMARY(GLCODEID);

CREATE INDEX INDX_TS_FUNDID
 ON TRANSACTIONSUMMARY(FUNDID);
 
 CREATE INDEX INDX_TS_FINYEAR
 ON TRANSACTIONSUMMARY(FINANCIALYEARID);
 
 CREATE INDEX INDX_TS_FSOURSEID
  ON TRANSACTIONSUMMARY(FUNDSOURCEID);

 CREATE INDEX INDX_TS_ACDTYPEID
 ON TRANSACTIONSUMMARY(ACCOUNTDETAILTYPEID);
 
 ALTER TABLE TRANSACTIONSUMMARYDETAILS
  ADD CONSTRAINT FK_TSD_TSUMMARYIDPK
  FOREIGN KEY (TXNSUMMARYID)
 REFERENCES TRANSACTIONSUMMARY (ID);	
 
 CREATE INDEX INDX_TSD_ACDTYPEID
 ON TRANSACTIONSUMMARYDETAILS(DETAILTYPEID);
 
 CREATE INDEX INDX_TSD_SUMMARYID
 ON TRANSACTIONSUMMARYDETAILS(TXNSUMMARYID);
 
 
 CREATE INDEX INDX_VD_VHID
 ON VOUCHERDETAIL(VOUCHERHEADERID);
 
 ALTER TABLE VOUCHERHEADER
  ADD CONSTRAINT FK_VH_FUNCTIONIDPK
  FOREIGN KEY (FUNCTIONID)
  REFERENCES FUNCTION (ID);


CREATE INDEX INDX_VH_FUNDID
 ON VOUCHERHEADER(FUNDID);
 
 CREATE INDEX INDX_VH_FSOURCESID
  ON VOUCHERHEADER(FUNDSOURCEID);

CREATE INDEX INDX_VMIS_VHID
 ON VOUCHERMIS(VOUCHERHEADERID);
 
  ALTER TABLE VOUCHERMIS
  ADD CONSTRAINT FK_VMIS_VHIDPK
  FOREIGN KEY (VOUCHERHEADERID)
  REFERENCES VOUCHERHEADER (ID);

ALTER TABLE VOUCHERMIS
 ADD CONSTRAINT FK_VMIS_SEMENTIDPK
 FOREIGN KEY (SEGMENTID)
 REFERENCES FUND (ID);


ALTER TABLE VOUCHERMIS
 ADD CONSTRAINT FK_VMIS_SUBSEGMENTIDPK
 FOREIGN KEY (SUB_SEGMENTID)
 REFERENCES FUND (ID);
 
 
 ALTER TABLE VOUCHERMIS
  ADD CONSTRAINT FK_VMIS_SCHEMEID
  FOREIGN KEY (SCHEMEID)
 REFERENCES SCHEME (ID);
 
 ALTER TABLE VOUCHERMIS
  ADD CONSTRAINT FK_VMIS_SUBSCHEMEIDPK
  FOREIGN KEY (SUBSCHEMEID)
 REFERENCES SUB_SCHEME (ID);
 
 CREATE INDEX INDX_VMIS_SEGMENTID
 ON VOUCHERMIS(SEGMENTID);
 
 CREATE INDEX INDX_VMIS_SUBSEGMENTID
 ON VOUCHERMIS(SUB_SEGMENTID);
 
 CREATE INDEX INDX_VMIS_SCHEMEID
 ON VOUCHERMIS(SCHEMEID);
 
 CREATE INDEX INDX_VMIS_SUBSCHEMEID
 ON VOUCHERMIS(SUBSCHEMEID);
 
 ALTER TABLE WORKSDETAIL
  ADD CONSTRAINT FK_WD_COAIDPK
  FOREIGN KEY (GLCODEID)
  REFERENCES CHARTOFACCOUNTS (ID);

 CREATE INDEX INDX_WD_COAID
 ON WORKSDETAIL(GLCODEID);
 
 CREATE INDEX INDX_WD_FUNDID
 ON WORKSDETAIL(FUNDID);
 
 CREATE INDEX INDX_WD_RELATIONID
 ON WORKSDETAIL(RELATIONID);
 
 CREATE INDEX INDX_WD_FSOURCEID
 ON WORKSDETAIL(FUNDSOURCEID);
 
 CREATE INDEX INDX_COA_SCHEDULEID
 ON CHARTOFACCOUNTS(SCHEDULEID);
 
 CREATE INDEX INDX_COA_PAYSCHEDULEID
 ON CHARTOFACCOUNTS(PAYMENTSCHEDULEID);
 
  CREATE INDEX INDX_COA_RECEIPTSCHEDULEID
 ON CHARTOFACCOUNTS(RECEIPTSCHEDULEID);


CREATE INDEX INDX_COA_FUNCTIONID
 ON CHARTOFACCOUNTS(FUNCTIONID);

 CREATE INDEX INDX_COA_PURPOSEID
 ON CHARTOFACCOUNTS(PURPOSEID);

 CREATE INDEX NDMCTESTING.INDX_FUND_PURPOSEID
 ON NDMCTESTING.FUND(PURPOSE_ID);
 
 

--end VMCPROD1_1_9TEST

--to be executed in the db VMCPROD1_1_9TEST

CREATE INDEX INDX_BCD_BCID ON BILLCOLLECTORDETAIL(BILLCOLLECTORID);
CREATE INDEX INDX_BCD_WARDID ON BILLCOLLECTORDETAIL(WARDID);

CREATE INDEX INDX_CM_CHEQUEINHAND ON CODEMAPPING(CHEQUEINHAND);
CREATE INDEX INDX_CM_CASHINHAND ON CODEMAPPING(CASHINHAND);
CREATE INDEX INDX_CM_BNDRYID ON CODEMAPPING(EG_BOUNDARYID);

CREATE INDEX INDX_CSM_SERVICEID ON CODESERVICEMAP(SERVICEID);
CREATE INDEX INDX_CSM_GLCODEID ON CODESERVICEMAP(GLCODEID);

CREATE INDEX  INDX_ECM_GLCODEID ON EGF_CESS_MASTER(GLCODEID);
CREATE INDEX  INDX_ECM_TAXCODEID ON EGF_CESS_MASTER(TAXCODEID);

CREATE INDEX  INDX_ECH_RELATIONID ON EGF_CONTRACTHEADER(RELATIONID);
CREATE INDEX  INDX_ECH_CREATEDBY ON EGF_CONTRACTHEADER(CREATEDBY);
CREATE INDEX  INDX_ECH_LASTMODIFIEDBY  ON EGF_CONTRACTHEADER(LASTMODIFIEDBY);

CREATE INDEX  INDX_EMTDS_TDSID ON EGF_MAPPEDTDS(TDSID);
CREATE INDEX  INDX_EMTDS_GLCODEID ON EGF_MAPPEDTDS(GLCODEID);
CREATE INDEX  INDX_EMTDS_VOUCHERHEADERID ON EGF_MAPPEDTDS(VOUCHERHEADERID);
CREATE INDEX  INDX_EMTDS_GENERALLEDGERID ON EGF_MAPPEDTDS(GENERALLEDGERID);

CREATE INDEX  INDX_EMRNH_FROMSTOREID ON EGF_MRNHEADER(FROMSTOREID);
CREATE INDEX  INDX_EMRNH_RECVSTOREID ON EGF_MRNHEADER(RECVSTOREID);
CREATE INDEX  INDX_EMRNH_RELATIONID ON EGF_MRNHEADER(RELATIONID);

CREATE INDEX  INDX_ETAMAPPING_FINYEARID ON EGF_TAX_ACCOUNT_MAPPING(FINANCIALYEARID);
CREATE INDEX  INDX_ETAMAPPING_GLCODEID ON EGF_TAX_ACCOUNT_MAPPING(GLCODEID);
CREATE INDEX  INDX_ETAMAPPING_TAXCODEID ON EGF_TAX_ACCOUNT_MAPPING(TAXCODEID);

CREATE INDEX  INDX_EVMIS_FIELDID ON EGF_VOUCHERMIS(FIELDID);
CREATE INDEX  INDX_EVMIS_VOUCHERHEADERID ON EGF_VOUCHERMIS(VOUCHERHEADERID);

CREATE INDEX  INDX_EWDASSET_WORKSDETAILID ON EGF_WORKSDETAIL_ASSET(WORKSDETAILID);


--INVENTARY TABLES

CREATE INDEX IDX_CONTRACT_MRINHEADRID ON EGF_CONTRACT(MRINHEADERID);

CREATE INDEX IDX_CONTRACT_WORKSDETAILID ON EGF_CONTRACT(WORKSDETAILID);

CREATE INDEX IDX_CONTRACTITEMDTL_CONTRACTID ON EGF_CONTRACTITEMDETAIL(CONTRACTHEADERID);

CREATE INDEX IDX_DEPTISSUE_MRINHEADERID ON EGF_DEPTISSUE(MRINHEADERID);

CREATE INDEX IDX_interstoretrfer_MRINLINEID ON EGF_INTERSTORETRANSFER(MRINLINEID);
CREATE INDEX IDX_interstoretrfer_MRLINEID ON EGF_INTERSTORETRANSFER(MRLINEID);

CREATE INDEX IDX_issuefrommrn_MRINLINEID ON EGF_ISSUEDFROMMRN(MRINLINEID);
CREATE INDEX IDX_issuefrommrn_MRNHEADERID ON EGF_ISSUEDFROMMRN(MRNHEADERID);

CREATE INDEX IDX_issuerepair_MRINHEADERID ON EGF_ISSUEREPAIR(MRINHEADERID);

--CREATE INDEX IDX_mrnheader_WORKSDETAILID ON EGF_MRHEADER(WORKSDETAILID);

--CREATE INDEX IDX_mrinheader_MRHEADERID ON EGF_MRINHEADER(MRHEADERID);

CREATE INDEX IDX_mrinline_MRINHEADERID ON EGF_MRINLINE(MRINHEADERID);
CREATE INDEX IDX_mrinline_VOUCHERHEADERID ON EGF_MRINLINE(VOUCHERHEADERID);

CREATE INDEX IDX_mrline_MRHEADERID ON EGF_MRLINE(MRHEADERID);

CREATE INDEX IDX_mrnline_MRNHEADERID ON EGF_MRNLINE(MRNHEADERID);
CREATE INDEX IDX_mrnline_VOUCHERHEADERID ON EGF_MRNLINE(VOUCHERHEADERID);

CREATE INDEX IDX_mrnlineother_MRNLINEID ON EGF_MRNLINEOTHERS(MRNLINEID);

CREATE INDEX IDX_poline_MRHEADERID ON EGF_POLINE(MRHEADERID);
CREATE INDEX IDX_poline_MRLINEID ON EGF_POLINE(MRLINEID);
CREATE INDEX IDX_poline_WORKSDETAILID ON EGF_POLINE(WORKSDETAILID);

CREATE INDEX IDX_recordstatus_VOUCHERHDID ON EGF_RECORD_STATUS(VOUCHERHEADERID);

CREATE INDEX IDX_ROM_MRINLINEID ON EGF_ROM(MRINLINEID);
CREATE INDEX IDX_ROM_MRNLINEID ON EGF_ROM(MRNLINEID);

CREATE INDEX IDX_SALE_MRINLINEID ON EGF_SALE(MRINLINEID);
CREATE INDEX IDX_SALE_MRINHEADERID ON EGF_SALE(MRINHEADERID);

CREATE INDEX IDX_suppBill_VOUCHERHEADERID ON SUPPLIERBILLDETAIL(VOUCHERHEADERID);
CREATE INDEX IDX_suppBill_MRNID ON SUPPLIERBILLDETAIL(MRNID);


--Start 18-09-2008
ALTER TABLE ACCOUNTENTITYMASTER ADD CONSTRAINT FK_USERID_PK FOREIGN KEY (MODIFIEDBY) REFERENCES EG_USER (ID_USER) ;

--Missing FK's and FK's Index for Works Management


CREATE INDEX IDX_EBD_CONTRACTORBILLDETAILID ON EGW_BILL_DEDUCTIONS (CONTRACTORBILLDETAILID);
CREATE INDEX IDX_EBD_TDSID ON EGW_BILL_DEDUCTIONS (TDSID);
ALTER TABLE EGW_BILL_DEDUCTIONS ADD (CONSTRAINT FK_CBDD_COA FOREIGN KEY (GLCODEID) REFERENCES CHARTOFACCOUNTS (ID));
CREATE INDEX IDX_EBD_GLCODEID ON EGW_BILL_DEDUCTIONS (GLCODEID);


CREATE INDEX IDX_CG_CREATEDBY ON EGW_CONTGRADES_MASTER (CREATEDBY);
CREATE INDEX IDX_CG_LASTMODIFIEDBY ON EGW_CONTGRADES_MASTER (LASTMODIFIEDBY);


CREATE INDEX IDX_EMD_FROMFINANCIALYEARID ON EGW_EMDRATES_MASTER (FROMFINANCIALYEARID);
CREATE INDEX IDX_EMD_CREATEDBY ON EGW_EMDRATES_MASTER (CREATEDBY);
CREATE INDEX IDX_EMD_LASTMODIFIEDBY ON EGW_EMDRATES_MASTER (LASTMODIFIEDBY);


CREATE INDEX IDX_FSD_FROMFINANCIALYEARID ON EGW_FSDRATES_MASTER (FROMFINANCIALYEARID);
CREATE INDEX IDX_FSD_CREATEDBY ON EGW_FSDRATES_MASTER (CREATEDBY);
CREATE INDEX IDX_FSD_LASTMODIFIEDBY ON EGW_FSDRATES_MASTER (LASTMODIFIEDBY);


ALTER TABLE EGW_MBDETAILS ADD (CONSTRAINT FK_MBD_MBH FOREIGN KEY (MBHEADERID) REFERENCES EGW_MBHEADER (ID));
CREATE INDEX IDX_MBD_MBHEADERID ON EGW_MBDETAILS (MBHEADERID);
ALTER TABLE EGW_MBDETAILS ADD (CONSTRAINT FK_MBD_WA FOREIGN KEY (WORKSACTIVITYID) REFERENCES EGW_WORKS_ACTIVITY (ID));
CREATE INDEX IDX_MBD_WORKSACTIVITYID ON EGW_MBDETAILS (WORKSACTIVITYID);



CREATE INDEX IDX_MBH_WORKSDETAILID ON EGW_MBHEADER (WORKSDETAILID);
CREATE INDEX IDX_MBH_VOUCHERHEADERID ON EGW_MBHEADER (VOUCHERHEADERID);
CREATE INDEX IDX_MBH_STATUSID ON EGW_MBHEADER (STATUSID);
CREATE INDEX IDX_MBH_BILLID ON EGW_MBHEADER (BILLID);
CREATE INDEX IDX_MBH_PREPAREDBY ON EGW_MBHEADER (PREPAREDBY);
CREATE INDEX IDX_MBH_CHECKEDBY ON EGW_MBHEADER (CHECKEDBY);
CREATE INDEX IDX_MBH_CREATEDBY ON EGW_MBHEADER (CREATEDBY);
CREATE INDEX IDX_MBH_LASTMODIFIEDBY ON EGW_MBHEADER (LASTMODIFIEDBY);


CREATE INDEX IDX_SC_CREATEDBY ON EGW_SATUSCHANGE (CREATEDBY);


ALTER TABLE EGW_SOR ADD (CONSTRAINT FK_SOR_SOR FOREIGN KEY (PARENTID) REFERENCES EGW_SOR (ID));
CREATE INDEX IDX_SOR_PARENTID ON EGW_SOR (PARENTID);
CREATE INDEX IDX_SOR_UOMID ON EGW_SOR (UOMID);
CREATE INDEX IDX_SOR_SORTYPEID ON EGW_SOR (SORTYPEID);
CREATE INDEX IDX_SOR_CREATEDBY ON EGW_SOR (CREATEDBY);
CREATE INDEX IDX_SOR_LASTMODIFIEDBY ON EGW_SOR (LASTMODIFIEDBY);


ALTER TABLE EGW_SOR_RATESCHEDULE ADD (CONSTRAINT FK_SORSCHEDULE_SOR FOREIGN KEY (SORID) REFERENCES EGW_SOR (ID));
CREATE INDEX IDX_SORSCHEDULE_SORID ON EGW_SOR_RATESCHEDULE (SORID);



CREATE INDEX IDX_TDEST_TENDER_HEADERID ON EGW_TENDER_ESTIMATE (TENDER_HEADERID);
CREATE INDEX IDX_TDEST_WORKSDETAILID ON EGW_TENDER_ESTIMATE (WORKSDETAILID);
CREATE INDEX IDX_TDEST_STATUSID ON EGW_TENDER_ESTIMATE (STATUSID);



CREATE INDEX IDX_TEVAL_TENDER_HEADERID ON EGW_TENDER_EVAL (TENDER_HEADERID);
CREATE INDEX IDX_TEVAL_TENDER_ESTIMATEID ON EGW_TENDER_EVAL (TENDER_ESTIMATEID);
CREATE INDEX IDX_TEVAL_AWARDEDTO ON EGW_TENDER_EVAL (AWARDEDTO);
CREATE INDEX IDX_TEVAL_CREATEDBY ON EGW_TENDER_EVAL (CREATEDBY);
CREATE INDEX IDX_TEVAL_LASTMODIFIEDBY ON EGW_TENDER_EVAL (LASTMODIFIEDBY);


CREATE INDEX IDX_TH_STATUSID ON EGW_TENDER_HEADER (STATUSID);
CREATE INDEX IDX_TH_CREATEDBY ON EGW_TENDER_HEADER (CREATEDBY);
CREATE INDEX IDX_TH_LASTMODIFIEDBY ON EGW_TENDER_HEADER (LASTMODIFIEDBY);

CREATE INDEX IDX_TDREL_TENDER_HEADERID ON EGW_TENDER_RELEASE (TENDER_HEADERID);


CREATE INDEX IDX_TRD_TENDER_RESP_HEADERID ON EGW_TENDER_RESP_DETAILS (TENDER_RESP_HEADERID);
CREATE INDEX IDX_TRD_WORKS_ACTIVITYID ON EGW_TENDER_RESP_DETAILS (WORKS_ACTIVITYID);
CREATE INDEX IDX_TRD_TENDER_UOM ON EGW_TENDER_RESP_DETAILS (TENDER_UOM);


CREATE INDEX IDX_TRH_RELATIONID ON EGW_TENDER_RESP_HEADER (RELATIONID);
CREATE INDEX IDX_TRH_TENDER_ESTIMATEID ON EGW_TENDER_RESP_HEADER (TENDER_ESTIMATEID);
CREATE INDEX IDX_TRH_TENDER_HEADERID ON EGW_TENDER_RESP_HEADER (TENDER_HEADERID);
CREATE INDEX IDX_TRH_EMD_VHID ON EGW_TENDER_RESP_HEADER (EMD_VHID);
CREATE INDEX IDX_TRH_CREATEDBY ON EGW_TENDER_RESP_HEADER (CREATEDBY);
CREATE INDEX IDX_TRH_LASTMODIFIEDBY ON EGW_TENDER_RESP_HEADER (LASTMODIFIEDBY);


CREATE INDEX IDX_TYPEOFWORK_PARENTID ON EGW_TYPEOFWORK (PARENTID);
CREATE INDEX IDX_TYPEOFWORK_CREATEDBY ON EGW_TYPEOFWORK (CREATEDBY);
CREATE INDEX IDX_TYPEOFWORK_LASTMODIFIEDBY ON EGW_TYPEOFWORK (LASTMODIFIEDBY);


CREATE INDEX IDX_WA_PARENTID ON EGW_WORKS_ACTIVITY (PARENTID);
CREATE INDEX IDX_WA_SORID ON EGW_WORKS_ACTIVITY (SORID);
CREATE INDEX IDX_WA_UOM ON EGW_WORKS_ACTIVITY (UOM);
CREATE INDEX IDX_WA_WORKSDETAILID ON EGW_WORKS_ACTIVITY (WORKSDETAILID);



CREATE INDEX IDX_WBD_BUDGETCODEID ON EGW_WORKS_BUDGET (BUDGETCODEID);
CREATE INDEX IDX_WBD_SCHEMEID ON EGW_WORKS_BUDGET (SCHEMEID);
CREATE INDEX IDX_WBD_SUBSCHEMEID ON EGW_WORKS_BUDGET (SUBSCHEMEID);
CREATE INDEX IDX_WBD_WORKSDETAILID ON EGW_WORKS_BUDGET (WORKSDETAILID);
CREATE INDEX IDX_WBD_FUNCTIONID ON EGW_WORKS_BUDGET (FUNCTIONID);
CREATE INDEX IDX_WBD_FINANCIALYEARID ON EGW_WORKS_BUDGET (FINANCIALYEARID);


CREATE INDEX IDX_WD_GLCODEID ON EGW_WORKS_DEDUCTIONS (GLCODEID);
CREATE INDEX IDX_WD_TDSID ON EGW_WORKS_DEDUCTIONS (TDSID);
CREATE INDEX IDX_WD_WORKSDETAILID ON EGW_WORKS_DEDUCTIONS (WORKSDETAILID);


ALTER TABLE EGW_WORKS_FINANCINGSOURCE ADD (
  PRIMARY KEY (ID)
    USING INDEX 
    TABLESPACE USERS
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                MINEXTENTS       1
                MAXEXTENTS       2147483645
                PCTINCREASE      0
               ));


ALTER TABLE EGW_WORKS_FINANCINGSOURCE ADD (
  CONSTRAINT FK_WFS_FS FOREIGN KEY (FINANCINGSOURCEID) 
    REFERENCES FUNDSOURCE (ID));

ALTER TABLE EGW_WORKS_FINANCINGSOURCE ADD (
  CONSTRAINT FK_WFS_WD FOREIGN KEY (WORKSDETAILID) 
    REFERENCES WORKSDETAIL (ID));
    
CREATE INDEX IDX_WFS_FINANCINGSOURCEID ON EGW_WORKS_FINANCINGSOURCE (FINANCINGSOURCEID);
CREATE INDEX IDX_WFS_WORKSDETAILID ON EGW_WORKS_FINANCINGSOURCE (WORKSDETAILID);


CREATE INDEX IDX_WMIS_FIELDID ON EGW_WORKS_MIS (FIELDID);
CREATE INDEX IDX_WMIS_WARDID ON EGW_WORKS_MIS (WARDID);
CREATE INDEX IDX_WMIS_FUNDID ON EGW_WORKS_MIS (FUNDID);
CREATE INDEX IDX_WMIS_THIRDPARY ON EGW_WORKS_MIS (THIRDPARY);
CREATE INDEX IDX_WMIS_WORKSDETAILID ON EGW_WORKS_MIS (WORKSDETAILID);
CREATE INDEX IDX_WMIS_ESIMATEPREPAREDBY ON EGW_WORKS_MIS (ESIMATEPREPAREDBY);

COMMIT;

--Missing FK's and FK's Index for Asset Management


CREATE INDEX IDX_DEP_DEPFORMULAID ON EGF_DEPRECIATION (DEPFORMULAID);

CREATE INDEX IDX_DEPHIST_FINANACIALYEARID ON EGF_DEPRECIATION_HISTORY (FINANACIALYEARID);


ALTER TABLE EG_ASSET ADD (CONSTRAINT FK_ASSET_AC FOREIGN KEY (CATEGORYID) REFERENCES EG_ASSETCATEGORY (ID));
CREATE INDEX IDX_ASSET_CATEGORYID ON EG_ASSET (CATEGORYID);
CREATE INDEX IDX_ASSET_BOUNDARYID ON EG_ASSET (BOUNDARYID);
CREATE INDEX IDX_ASSET_WORKORDERCAP ON EG_ASSET (WORKORDERFORCAPITALIZATION);
CREATE INDEX IDX_ASSET_DEPARTMENTID ON EG_ASSET (DEPARTMENTID);


CREATE INDEX IDX_AC_DEPID ON EG_ASSETCATEGORY (DEPID);
CREATE INDEX IDX_AC_DEPMETHORD ON EG_ASSETCATEGORY (DEPMETHORD);
CREATE INDEX IDX_AC_PARENTID ON EG_ASSETCATEGORY (PARENTID);
CREATE INDEX IDX_AC_CWIPCODE ON EG_ASSETCATEGORY (CWIPCODE);
CREATE INDEX IDX_AC_ASSETCODE ON EG_ASSETCATEGORY (ASSETCODE);
CREATE INDEX IDX_AC_ACCDEPCODE ON EG_ASSETCATEGORY (ACCDEPCODE);
CREATE INDEX IDX_AC_DEPEXPCODE ON EG_ASSETCATEGORY (DEPEXPCODE);
CREATE INDEX IDX_AC_REVCODE ON EG_ASSETCATEGORY (REVCODE);


CREATE INDEX IDX_AVC_ASSETID ON EG_ASSETVALUECHANGE (ASSETID);
CREATE INDEX IDX_AVC_VOUCHERHEADERID ON EG_ASSETVALUECHANGE (VOUCHERHEADERID);


CREATE INDEX IDX_APO_ASSETID ON EG_ASSET_PO (ASSETID);
CREATE INDEX IDX_APO_WORKORDERID ON EG_ASSET_PO (WORKORDERID);


ALTER TABLE EG_ASSET_SALE ADD (CONSTRAINT FK_ASSETSALE_ASS FOREIGN KEY (ASSETID) REFERENCES EG_ASSET (ASSETID));
CREATE INDEX IDX_ASSETSALE_ASSETID ON EG_ASSET_SALE (ASSETID);
CREATE INDEX IDX_ASSETSALE_VOUCHERHEADERID ON EG_ASSET_SALE (VOUCHERHEADERID);

CREATE INDEX IDX_DEPR_ASSETID ON EG_DEPRECIATION (ASSETID);
CREATE INDEX IDX_DEPR_VOUCHERHEADERID ON EG_DEPRECIATION (VOUCHERHEADERID);
CREATE INDEX IDX_DEPR_FINANCIALYEARID ON EG_DEPRECIATION (FINANCIALYEARID);


ALTER TABLE EG_DEPRECIATIONMETADATA ADD (CONSTRAINT FK_DEPMD_AC FOREIGN KEY (ASSETCATEGORYID) REFERENCES EG_ASSETCATEGORY (ID));
CREATE INDEX IDX_DEPMD_ASSETCATEGORYID ON EG_DEPRECIATIONMETADATA (ASSETCATEGORYID);
CREATE INDEX IDX_DEPMD_FINYEARID ON EG_DEPRECIATIONMETADATA (FINYEARID);

--End 18-09-2008
